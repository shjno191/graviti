@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-bg min-h-screen text-gray-800 antialiased;
  }
}

@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full hover:bg-gray-400 transition-colors;
  }

  .hidden {
    display: none;
  }
}

textarea {
  @apply transition-all duration-200;
}

button {
  @apply active:scale-95 transition-transform;
}

/* Click-to-Scroll Highlight Effect */
@keyframes flow-highlight-pulse {
  0% {
    background-color: rgba(250, 204, 21, 0.7);
    box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.8), inset 0 0 0 2px rgba(250, 204, 21, 0.5);
  }
  15% {
    background-color: rgba(250, 204, 21, 0.5);
    box-shadow: 0 0 16px 6px rgba(250, 204, 21, 0.4), inset 0 0 0 2px rgba(250, 204, 21, 0.4);
  }
  50% {
    background-color: rgba(250, 204, 21, 0.3);
    box-shadow: 0 0 8px 2px rgba(250, 204, 21, 0.2), inset 0 0 0 2px rgba(250, 204, 21, 0.2);
  }
  100% {
    background-color: transparent;
    box-shadow: 0 0 0 0 transparent, inset 0 0 0 2px transparent;
  }
}

/* Dark mode compatible highlight */
@keyframes flow-highlight-pulse-dark {
  0% {
    background-color: rgba(59, 130, 246, 0.4);
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.6), inset 0 0 0 2px rgba(59, 130, 246, 0.5);
  }
  15% {
    background-color: rgba(59, 130, 246, 0.3);
    box-shadow: 0 0 16px 6px rgba(59, 130, 246, 0.3), inset 0 0 0 2px rgba(59, 130, 246, 0.4);
  }
  50% {
    background-color: rgba(59, 130, 246, 0.15);
    box-shadow: 0 0 8px 2px rgba(59, 130, 246, 0.15), inset 0 0 0 2px rgba(59, 130, 246, 0.2);
  }
  100% {
    background-color: transparent;
    box-shadow: 0 0 0 0 transparent, inset 0 0 0 2px transparent;
  }
}

.flow-highlight-target {
  animation: flow-highlight-pulse 2s ease-out forwards;
  border-radius: 4px;
  position: relative;
  transition: none; /* Animation handles visual changes, not transitions */
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .flow-highlight-target {
    animation: flow-highlight-pulse-dark 2s ease-out forwards;
  }
}
